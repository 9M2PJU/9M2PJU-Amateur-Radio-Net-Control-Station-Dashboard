import{c as Rt,r as I,j as s,a as it,R as v,g as st,u as Dt,L as ce,P as Tt,s as ke,b as Be}from"./index-C_TrKtcQ.js";import{c as B,f as N,_ as ot,a as Lt,b as lt,d as $t,i as M,T as Te,p as K,L as E,g as ct,e as Le,h as ut,D as dt,C as pe,j as H,k as U,S as It,A as ft,l as Ct,m as V,n as Pe,o as L,q as pt,u as mt,G as ht,r as me,s as Mt,t as $e,v as Ft,w as ue,x as Ke,y as de,z as Bt,B as Kt,E as ze,F as vt,H as zt,X as Ie,Y as Ce,I as Wt,R as Me,J as yt,K as Fe,M as Vt,N as Ut,O as Ht,P as fe,Q as qt,U as Gt}from"./TopParticipantsChart-BjKomMmR.js";import{R as Ne}from"./radio-CfOjHtPo.js";import{A as xt}from"./activity-DrOgex6Y.js";import{t as Yt,c as Xt,f as he,C as Zt}from"./format-C_kEIiFx.js";import{U as We}from"./users-3o_MqocL.js";import{C as Ve}from"./chevron-right-Dxwva61e.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Rt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function Qt(){const[e,t]=I.useState(null),[a,r]=I.useState(!0),[n,o]=I.useState(null);if(I.useEffect(()=>{const l=async()=>{var c,f;try{const p="https://api.allorigins.win/raw?url=",y=encodeURIComponent("https://services.swpc.noaa.gov/products/summary/10cm-flux-6-hour.json"),w=encodeURIComponent("https://services.swpc.noaa.gov/products/noaa-planetary-k-index.json"),[x,m]=await Promise.all([fetch(`${p}${y}`),fetch(`${p}${w}`)]);if(!x.ok||!m.ok)throw new Error("Failed to reach data service");const g=await x.json(),A=await m.json(),d=((c=g[0])==null?void 0:c.flux)||0,h=parseInt(((f=A[A.length-1])==null?void 0:f[1])||"0");let b="Fair";d>150&&h<3?b="Excellent":d>100&&h<4?b="Good":h>5&&(b="Poor/Storm"),t({sfi:d,ssn:Math.max(0,Math.floor((d-66)*.9)),aIndex:Math.floor(h*2.5),kIndex:h,conditions:{hf:b,vhf:h<3?"Normal":"Disturbed"}})}catch(p){console.error("Failed to fetch solar data:",p),o("Failed to load solar data")}finally{r(!1)}};l();const u=setInterval(l,1e3*60*60);return()=>clearInterval(u)},[]),a)return s.jsx("div",{className:"card glass-card p-6 flex items-center justify-center min-h-[160px]",children:s.jsx(it,{className:"w-8 h-8 text-emerald-500 animate-spin"})});if(n||!e)return s.jsx("div",{className:"card glass-card p-6 flex items-center justify-center min-h-[160px]",children:s.jsx("p",{className:"text-slate-400 text-sm",children:n||"No data available"})});const i=l=>{switch(l.toLowerCase()){case"excellent":return"text-emerald-400";case"good":return"text-cyan-400";case"fair":return"text-amber-400";case"poor":case"storm":return"text-rose-400";default:return"text-slate-400"}};return s.jsxs("div",{className:"card glass-card p-6 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 rounded-full blur-[40px] transition-opacity opacity-0 group-hover:opacity-50 bg-amber-500/10"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Solar Weather / Propagation"}),s.jsx(Jt,{className:"w-5 h-5 text-amber-400"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Solar Flux (SFI)"}),s.jsx("p",{className:"text-2xl font-bold text-white font-mono",children:e.sfi})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"K-Index"}),s.jsx("p",{className:`text-2xl font-bold font-mono ${e.kIndex>4?"text-rose-400":"text-emerald-400"}`,children:e.kIndex})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 pt-2 border-t border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[s.jsx(Ne,{className:"w-4 h-4"}),s.jsx("span",{children:"HF Conditions:"})]}),s.jsx("span",{className:`font-bold ${i(e.conditions.hf)}`,children:e.conditions.hf})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[s.jsx(xt,{className:"w-4 h-4"}),s.jsx("span",{children:"VHF Aurora:"})]}),s.jsx("span",{className:"font-bold text-slate-300",children:e.conditions.vhf})]})]}),s.jsx("p",{className:"text-[10px] text-slate-600 mt-4 text-center italic",children:"Data provided by NOAA SWPC â€¢ Updated hourly"})]})]})}var er=["points","className","baseLinePoints","connectNulls"];function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Q.apply(this,arguments)}function tr(e,t){if(e==null)return{};var a=rr(e,t),r,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rr(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function Ue(e){return sr(e)||ir(e)||nr(e)||ar()}function ar(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nr(e,t){if(e){if(typeof e=="string")return Se(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Se(e,t)}}function ir(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sr(e){if(Array.isArray(e))return Se(e)}function Se(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var He=function(t){return t&&t.x===+t.x&&t.y===+t.y},or=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return t.forEach(function(r){He(r)?a[a.length-1].push(r):a[a.length-1].length>0&&a.push([])}),He(t[0])&&a[a.length-1].push(t[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},oe=function(t,a){var r=or(t);a&&(r=[r.reduce(function(o,i){return[].concat(Ue(o),Ue(i))},[])]);var n=r.map(function(o){return o.reduce(function(i,l,u){return"".concat(i).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(n,"Z"):n},lr=function(t,a,r){var n=oe(t,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(oe(a.reverse(),r).slice(1))},cr=function(t){var a=t.points,r=t.className,n=t.baseLinePoints,o=t.connectNulls,i=tr(t,er);if(!a||!a.length)return null;var l=B("recharts-polygon",r);if(n&&n.length){var u=i.stroke&&i.stroke!=="none",c=lr(a,n,o);return v.createElement("g",{className:l},v.createElement("path",Q({},N(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),u?v.createElement("path",Q({},N(i,!0),{fill:"none",d:oe(a,o)})):null,u?v.createElement("path",Q({},N(i,!0),{fill:"none",d:oe(n,o)})):null)}var f=oe(a,o);return v.createElement("path",Q({},N(i,!0),{fill:f.slice(-1)==="Z"?i.fill:"none",className:l,d:f}))},ur=ot,dr=Lt,fr=lt;function pr(e,t){return e&&e.length?ur(e,fr(t),dr):void 0}var mr=pr;const hr=st(mr);var vr=ot,yr=lt,xr=$t;function gr(e,t){return e&&e.length?vr(e,yr(t),xr):void 0}var br=gr;const Ar=st(br);var jr=["cx","cy","angle","ticks","axisLine"],wr=["ticks","tick","angle","tickFormatter","stroke"];function te(e){"@babel/helpers - typeof";return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(e)}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},le.apply(this,arguments)}function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qe(Object(a),!0).forEach(function(r){Ae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ge(e,t){if(e==null)return{};var a=Or(e,t),r,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Or(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bt(r.key),r)}}function Pr(e,t,a){return t&&Ye(e.prototype,t),a&&Ye(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nr(e,t,a){return t=ye(t),Sr(e,gt()?Reflect.construct(t,a||[],ye(e).constructor):t.apply(e,a))}function Sr(e,t){if(t&&(te(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}function _r(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gt=function(){return!!e})()}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ye(e)}function Er(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_e(e,t)}function Ae(e,t,a){return t=bt(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bt(e){var t=Rr(e,"string");return te(t)=="symbol"?t:t+""}function Rr(e,t){if(te(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(te(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var je=function(e){function t(){return kr(this,t),Nr(this,t,arguments)}return Er(t,e),Pr(t,[{key:"getTickValueCoord",value:function(r){var n=r.coordinate,o=this.props,i=o.angle,l=o.cx,u=o.cy;return K(l,u,n,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,n;switch(r){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n}},{key:"getViewBox",value:function(){var r=this.props,n=r.cx,o=r.cy,i=r.angle,l=r.ticks,u=hr(l,function(f){return f.coordinate||0}),c=Ar(l,function(f){return f.coordinate||0});return{cx:n,cy:o,startAngle:i,endAngle:i,innerRadius:c.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.cx,o=r.cy,i=r.angle,l=r.ticks,u=r.axisLine,c=Ge(r,jr),f=l.reduce(function(x,m){return[Math.min(x[0],m.coordinate),Math.max(x[1],m.coordinate)]},[1/0,-1/0]),p=K(n,o,f[0],i),y=K(n,o,f[1],i),w=Y(Y(Y({},N(c,!1)),{},{fill:"none"},N(u,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return v.createElement("line",le({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var r=this,n=this.props,o=n.ticks,i=n.tick,l=n.angle,u=n.tickFormatter,c=n.stroke,f=Ge(n,wr),p=this.getTickTextAnchor(),y=N(f,!1),w=N(i,!1),x=o.map(function(m,g){var A=r.getTickValueCoord(m),d=Y(Y(Y(Y({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(A.x,", ").concat(A.y,")")},y),{},{stroke:"none",fill:c},w),{},{index:g},A),{},{payload:m});return v.createElement(E,le({className:B("recharts-polar-radius-axis-tick",ct(i)),key:"tick-".concat(m.coordinate)},Le(r.props,m,g)),t.renderTickItem(i,d,u?u(m.value,g):m.value))});return v.createElement(E,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,n=r.ticks,o=r.axisLine,i=r.tick;return!n||!n.length?null:v.createElement(E,{className:B("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),ut.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,n,o){var i;return v.isValidElement(r)?i=v.cloneElement(r,n):M(r)?i=r(n):i=v.createElement(Te,le({},n,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(I.PureComponent);Ae(je,"displayName","PolarRadiusAxis");Ae(je,"axisType","radiusAxis");Ae(je,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function re(e){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(e)}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Z.apply(this,arguments)}function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Xe(Object(a),!0).forEach(function(r){we(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jt(r.key),r)}}function Tr(e,t,a){return t&&Ze(e.prototype,t),a&&Ze(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lr(e,t,a){return t=xe(t),$r(e,At()?Reflect.construct(t,a||[],xe(e).constructor):t.apply(e,a))}function $r(e,t){if(t&&(re(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Ir(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(At=function(){return!!e})()}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},xe(e)}function Cr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ee(e,t)}function Ee(e,t){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ee(e,t)}function we(e,t,a){return t=jt(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jt(e){var t=Mr(e,"string");return re(t)=="symbol"?t:t+""}function Mr(e,t){if(re(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(re(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fr=Math.PI/180,Je=1e-5,Oe=function(e){function t(){return Dr(this,t),Lr(this,t,arguments)}return Cr(t,e),Tr(t,[{key:"getTickLineCoord",value:function(r){var n=this.props,o=n.cx,i=n.cy,l=n.radius,u=n.orientation,c=n.tickSize,f=c||8,p=K(o,i,l,r.coordinate),y=K(o,i,l+(u==="inner"?-1:1)*f,r.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var n=this.props.orientation,o=Math.cos(-r.coordinate*Fr),i;return o>Je?i=n==="outer"?"start":"end":o<-Je?i=n==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.cx,o=r.cy,i=r.radius,l=r.axisLine,u=r.axisLineType,c=X(X({},N(this.props,!1)),{},{fill:"none"},N(l,!1));if(u==="circle")return v.createElement(dt,Z({className:"recharts-polar-angle-axis-line"},c,{cx:n,cy:o,r:i}));var f=this.props.ticks,p=f.map(function(y){return K(n,o,i,y.coordinate)});return v.createElement(cr,Z({className:"recharts-polar-angle-axis-line"},c,{points:p}))}},{key:"renderTicks",value:function(){var r=this,n=this.props,o=n.ticks,i=n.tick,l=n.tickLine,u=n.tickFormatter,c=n.stroke,f=N(this.props,!1),p=N(i,!1),y=X(X({},f),{},{fill:"none"},N(l,!1)),w=o.map(function(x,m){var g=r.getTickLineCoord(x),A=r.getTickTextAnchor(x),d=X(X(X({textAnchor:A},f),{},{stroke:"none",fill:c},p),{},{index:m,payload:x,x:g.x2,y:g.y2});return v.createElement(E,Z({className:B("recharts-polar-angle-axis-tick",ct(i)),key:"tick-".concat(x.coordinate)},Le(r.props,x,m)),l&&v.createElement("line",Z({className:"recharts-polar-angle-axis-tick-line"},y,g)),i&&t.renderTickItem(i,d,u?u(x.value,m):x.value))});return v.createElement(E,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,n=r.ticks,o=r.radius,i=r.axisLine;return o<=0||!n||!n.length?null:v.createElement(E,{className:B("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,n,o){var i;return v.isValidElement(r)?i=v.cloneElement(r,n):M(r)?i=r(n):i=v.createElement(Te,Z({},n,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(I.PureComponent);we(Oe,"displayName","PolarAngleAxis");we(Oe,"axisType","angleAxis");we(Oe,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ve;function ae(e){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(e)}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ee.apply(this,arguments)}function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Qe(Object(a),!0).forEach(function(r){$(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ot(r.key),r)}}function Kr(e,t,a){return t&&et(e.prototype,t),a&&et(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function zr(e,t,a){return t=ge(t),Wr(e,wt()?Reflect.construct(t,a||[],ge(e).constructor):t.apply(e,a))}function Wr(e,t){if(t&&(ae(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vr(e)}function Vr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wt=function(){return!!e})()}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ge(e)}function Ur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}function Re(e,t){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Re(e,t)}function $(e,t,a){return t=Ot(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ot(e){var t=Hr(e,"string");return ae(t)=="symbol"?t:t+""}function Hr(e,t){if(ae(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(ae(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z=function(e){function t(a){var r;return Br(this,t),r=zr(this,t,[a]),$(r,"pieRef",null),$(r,"sectorRefs",[]),$(r,"id",mt("recharts-pie-")),$(r,"handleAnimationEnd",function(){var n=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),M(n)&&n()}),$(r,"handleAnimationStart",function(){var n=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),M(n)&&n()}),r.state={isAnimationFinished:!a.isAnimationActive,prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,sectorToFocus:0},r}return Ur(t,e),Kr(t,[{key:"isActiveIndex",value:function(r){var n=this.props.activeIndex;return Array.isArray(n)?n.indexOf(r)!==-1:r===n}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,l=o.labelLine,u=o.dataKey,c=o.valueKey,f=N(this.props,!1),p=N(i,!1),y=N(l,!1),w=i&&i.offsetRadius||20,x=r.map(function(m,g){var A=(m.startAngle+m.endAngle)/2,d=K(m.cx,m.cy,m.outerRadius+w,A),h=P(P(P(P({},f),m),{},{stroke:"none"},p),{},{index:g,textAnchor:t.getTextAnchor(d.x,m.cx)},d),b=P(P(P(P({},f),m),{},{fill:"none",stroke:m.fill},y),{},{index:g,points:[K(m.cx,m.cy,m.outerRadius,A),d]}),j=u;return H(u)&&H(c)?j="value":H(u)&&(j=c),v.createElement(E,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,b,"line"),t.renderLabelItem(i,h,U(m,j)))});return v.createElement(E,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var n=this,o=this.props,i=o.activeShape,l=o.blendStroke,u=o.inactiveShape;return r.map(function(c,f){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var p=n.isActiveIndex(f),y=u&&n.hasActiveIndex()?u:null,w=p?i:y,x=P(P({},c),{},{stroke:l?c.fill:c.stroke,tabIndex:-1});return v.createElement(E,ee({ref:function(g){g&&!n.sectorRefs.includes(g)&&n.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Le(n.props,c,f),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(f)}),v.createElement(It,ee({option:w,isActive:p,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,n=this.props,o=n.sectors,i=n.isAnimationActive,l=n.animationBegin,u=n.animationDuration,c=n.animationEasing,f=n.animationId,p=this.state,y=p.prevSectors,w=p.prevIsAnimationActive;return v.createElement(ft,{begin:l,duration:u,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(w),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var m=x.t,g=[],A=o&&o[0],d=A.startAngle;return o.forEach(function(h,b){var j=y&&y[b],k=b>0?Ct(h,"paddingAngle",0):0;if(j){var S=V(j.endAngle-j.startAngle,h.endAngle-h.startAngle),O=P(P({},h),{},{startAngle:d+k,endAngle:d+S(m)+k});g.push(O),d=O.endAngle}else{var D=h.endAngle,_=h.startAngle,T=V(0,D-_),C=T(m),R=P(P({},h),{},{startAngle:d+k,endAngle:d+C+k});g.push(R),d=R.endAngle}}),v.createElement(E,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var n=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[i].focus(),n.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--n.state.sectorToFocus<0?n.sectorRefs.length-1:n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[l].focus(),n.setState({sectorToFocus:l});break}case"Escape":{n.sectorRefs[n.state.sectorToFocus].blur(),n.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,n=r.sectors,o=r.isAnimationActive,i=this.state.prevSectors;return o&&n&&n.length&&(!i||!Pe(i,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,n=this.props,o=n.hide,i=n.sectors,l=n.className,u=n.label,c=n.cx,f=n.cy,p=n.innerRadius,y=n.outerRadius,w=n.isAnimationActive,x=this.state.isAnimationFinished;if(o||!i||!i.length||!L(c)||!L(f)||!L(p)||!L(y))return null;var m=B("recharts-pie",l);return v.createElement(E,{tabIndex:this.props.rootTabIndex,className:m,ref:function(A){r.pieRef=A}},this.renderSectors(),u&&this.renderLabels(i),ut.renderCallByParent(this.props,null,!1),(!w||x)&&pt.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return n.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:n.curSectors,isAnimationFinished:!0}:r.sectors!==n.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,n){return r>n?"start":r<n?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,n,o){if(v.isValidElement(r))return v.cloneElement(r,n);if(M(r))return r(n);var i=B("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return v.createElement(pe,ee({},n,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,n,o){if(v.isValidElement(r))return v.cloneElement(r,n);var i=o;if(M(r)&&(i=r(n),v.isValidElement(i)))return i;var l=B("recharts-pie-label-text",typeof r!="boolean"&&!M(r)?r.className:"");return v.createElement(Te,ee({},n,{alignmentBaseline:"middle",className:l}),i)}}])}(I.PureComponent);ve=z;$(z,"displayName","Pie");$(z,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ht.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$(z,"parseDeltaAngle",function(e,t){var a=me(t-e),r=Math.min(Math.abs(t-e),360);return a*r});$(z,"getRealPieData",function(e){var t=e.data,a=e.children,r=N(e,!1),n=Mt(a,$e);return t&&t.length?t.map(function(o,i){return P(P(P({payload:o},r),o),n&&n[i]&&n[i].props)}):n&&n.length?n.map(function(o){return P(P({},r),o.props)}):[]});$(z,"parseCoordinateOfPie",function(e,t){var a=t.top,r=t.left,n=t.width,o=t.height,i=Ft(n,o),l=r+ue(e.cx,n,n/2),u=a+ue(e.cy,o,o/2),c=ue(e.innerRadius,i,0),f=ue(e.outerRadius,i,i*.8),p=e.maxRadius||Math.sqrt(n*n+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:p}});$(z,"getComposedData",function(e){var t=e.item,a=e.offset,r=t.type.defaultProps!==void 0?P(P({},t.type.defaultProps),t.props):t.props,n=ve.getRealPieData(r);if(!n||!n.length)return null;var o=r.cornerRadius,i=r.startAngle,l=r.endAngle,u=r.paddingAngle,c=r.dataKey,f=r.nameKey,p=r.valueKey,y=r.tooltipType,w=Math.abs(r.minAngle),x=ve.parseCoordinateOfPie(r,a),m=ve.parseDeltaAngle(i,l),g=Math.abs(m),A=c;H(c)&&H(p)?(Ke(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):H(c)&&(Ke(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=p);var d=n.filter(function(O){return U(O,A,0)!==0}).length,h=(g>=360?d:d-1)*u,b=g-d*w-h,j=n.reduce(function(O,D){var _=U(D,A,0);return O+(L(_)?_:0)},0),k;if(j>0){var S;k=n.map(function(O,D){var _=U(O,A,0),T=U(O,f,D),C=(L(_)?_:0)/j,R;D?R=S.endAngle+me(m)*u*(_!==0?1:0):R=i;var ie=R+me(m)*((_!==0?w:0)+C*b),se=(R+ie)/2,G=(x.innerRadius+x.outerRadius)/2,_t=[{name:T,value:_,payload:O,dataKey:A,type:y}],Et=K(x.cx,x.cy,G,se);return S=P(P(P({percent:C,cornerRadius:o,name:T,tooltipPayload:_t,midAngle:se,middleRadius:G,tooltipPosition:Et},O),x),{},{value:U(O,A),startAngle:R,endAngle:ie,payload:O,paddingAngle:me(m)*u}),S})}return P(P({},x),{},{sectors:k,data:n})});var qr=["layout","type","stroke","connectNulls","isRange","ref"],Gr=["key"],kt;function ne(e){"@babel/helpers - typeof";return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(e)}function Pt(e,t){if(e==null)return{};var a=Yr(e,t),r,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yr(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},J.apply(this,arguments)}function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tt(Object(a),!0).forEach(function(r){F(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,St(r.key),r)}}function Zr(e,t,a){return t&&rt(e.prototype,t),a&&rt(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jr(e,t,a){return t=be(t),Qr(e,Nt()?Reflect.construct(t,a||[],be(e).constructor):t.apply(e,a))}function Qr(e,t){if(t&&(ne(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ea(e)}function ea(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nt=function(){return!!e})()}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},be(e)}function ta(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},De(e,t)}function F(e,t,a){return t=St(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function St(e){var t=ra(e,"string");return ne(t)=="symbol"?t:t+""}function ra(e,t){if(ne(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(ne(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q=function(e){function t(){var a;Xr(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Jr(this,t,[].concat(n)),F(a,"state",{isAnimationFinished:!0}),F(a,"id",mt("recharts-area-")),F(a,"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),M(i)&&i()}),F(a,"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),M(i)&&i()}),a}return ta(t,e),Zr(t,[{key:"renderDots",value:function(r,n,o){var i=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(i&&!l)return null;var u=this.props,c=u.dot,f=u.points,p=u.dataKey,y=N(this.props,!1),w=N(c,!0),x=f.map(function(g,A){var d=W(W(W({key:"dot-".concat(A),r:3},y),w),{},{index:A,cx:g.x,cy:g.y,dataKey:p,value:g.value,payload:g.payload,points:f});return t.renderDotItem(c,d)}),m={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(o,")"):null};return v.createElement(E,J({className:"recharts-area-dots"},m),x)}},{key:"renderHorizontalRect",value:function(r){var n=this.props,o=n.baseLine,i=n.points,l=n.strokeWidth,u=i[0].x,c=i[i.length-1].x,f=r*Math.abs(u-c),p=de(i.map(function(y){return y.y||0}));return L(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(de(o.map(function(y){return y.y||0})),p)),L(p)?v.createElement("rect",{x:u<c?u:u-f,y:0,width:f,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var n=this.props,o=n.baseLine,i=n.points,l=n.strokeWidth,u=i[0].y,c=i[i.length-1].y,f=r*Math.abs(u-c),p=de(i.map(function(y){return y.x||0}));return L(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(de(o.map(function(y){return y.x||0})),p)),L(p)?v.createElement("rect",{x:0,y:u<c?u:u-f,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,n,o,i){var l=this.props,u=l.layout,c=l.type,f=l.stroke,p=l.connectNulls,y=l.isRange;l.ref;var w=Pt(l,qr);return v.createElement(E,{clipPath:o?"url(#clipPath-".concat(i,")"):null},v.createElement(pe,J({},N(w,!0),{points:r,connectNulls:p,type:c,baseLine:n,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&v.createElement(pe,J({},N(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:p,fill:"none",points:r})),f!=="none"&&y&&v.createElement(pe,J({},N(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:p,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(r,n){var o=this,i=this.props,l=i.points,u=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,p=i.animationDuration,y=i.animationEasing,w=i.animationId,x=this.state,m=x.prevPoints,g=x.prevBaseLine;return v.createElement(ft,{begin:f,duration:p,isActive:c,easing:y,from:{t:0},to:{t:1},key:"area-".concat(w),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var d=A.t;if(m){var h=m.length/l.length,b=l.map(function(O,D){var _=Math.floor(D*h);if(m[_]){var T=m[_],C=V(T.x,O.x),R=V(T.y,O.y);return W(W({},O),{},{x:C(d),y:R(d)})}return O}),j;if(L(u)&&typeof u=="number"){var k=V(g,u);j=k(d)}else if(H(u)||Bt(u)){var S=V(g,0);j=S(d)}else j=u.map(function(O,D){var _=Math.floor(D*h);if(g[_]){var T=g[_],C=V(T.x,O.x),R=V(T.y,O.y);return W(W({},O),{},{x:C(d),y:R(d)})}return O});return o.renderAreaStatically(b,j,r,n)}return v.createElement(E,null,v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(n)},o.renderClipRect(d))),v.createElement(E,{clipPath:"url(#animationClipPath-".concat(n,")")},o.renderAreaStatically(l,u,r,n)))})}},{key:"renderArea",value:function(r,n){var o=this.props,i=o.points,l=o.baseLine,u=o.isAnimationActive,c=this.state,f=c.prevPoints,p=c.prevBaseLine,y=c.totalLength;return u&&i&&i.length&&(!f&&y>0||!Pe(f,i)||!Pe(p,l))?this.renderAreaWithAnimation(r,n):this.renderAreaStatically(i,l,r,n)}},{key:"render",value:function(){var r,n=this.props,o=n.hide,i=n.dot,l=n.points,u=n.className,c=n.top,f=n.left,p=n.xAxis,y=n.yAxis,w=n.width,x=n.height,m=n.isAnimationActive,g=n.id;if(o||!l||!l.length)return null;var A=this.state.isAnimationFinished,d=l.length===1,h=B("recharts-area",u),b=p&&p.allowDataOverflow,j=y&&y.allowDataOverflow,k=b||j,S=H(g)?this.id:g,O=(r=N(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=O.r,_=D===void 0?3:D,T=O.strokeWidth,C=T===void 0?2:T,R=Kt(i)?i:{},ie=R.clipDot,se=ie===void 0?!0:ie,G=_*2+C;return v.createElement(E,{className:h},b||j?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(S)},v.createElement("rect",{x:b?f:f-w/2,y:j?c:c-x/2,width:b?w:w*2,height:j?x:x*2})),!se&&v.createElement("clipPath",{id:"clipPath-dots-".concat(S)},v.createElement("rect",{x:f-G/2,y:c-G/2,width:w+G,height:x+G}))):null,d?null:this.renderArea(k,S),(i||d)&&this.renderDots(k,se,S),(!m||A)&&pt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:r.points!==n.curPoints||r.baseLine!==n.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(I.PureComponent);kt=q;F(q,"displayName","Area");F(q,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ht.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});F(q,"getBaseValue",function(e,t,a,r){var n=e.layout,o=e.baseValue,i=t.props.baseValue,l=i??o;if(L(l)&&typeof l=="number")return l;var u=n==="horizontal"?r:a,c=u.scale.domain();if(u.type==="number"){var f=Math.max(c[0],c[1]),p=Math.min(c[0],c[1]);return l==="dataMin"?p:l==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return l==="dataMin"?c[0]:l==="dataMax"?c[1]:c[0]});F(q,"getComposedData",function(e){var t=e.props,a=e.item,r=e.xAxis,n=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,u=e.dataKey,c=e.stackedData,f=e.dataStartIndex,p=e.displayedData,y=e.offset,w=t.layout,x=c&&c.length,m=kt.getBaseValue(t,a,r,n),g=w==="horizontal",A=!1,d=p.map(function(b,j){var k;x?k=c[f+j]:(k=U(b,u),Array.isArray(k)?A=!0:k=[m,k]);var S=k[1]==null||x&&U(b,u)==null;return g?{x:ze({axis:r,ticks:o,bandSize:l,entry:b,index:j}),y:S?null:n.scale(k[1]),value:k,payload:b}:{x:S?null:r.scale(k[1]),y:ze({axis:n,ticks:i,bandSize:l,entry:b,index:j}),value:k,payload:b}}),h;return x||A?h=d.map(function(b){var j=Array.isArray(b.value)?b.value[0]:null;return g?{x:b.x,y:j!=null&&b.y!=null?n.scale(j):null}:{x:j!=null?r.scale(j):null,y:b.y}}):h=g?n.scale(m):r.scale(m),W({points:d,baseLine:h,layout:w,isRange:A},y)});F(q,"renderDotItem",function(e,t){var a;if(v.isValidElement(e))a=v.cloneElement(e,t);else if(M(e))a=e(t);else{var r=B("recharts-area-dot",typeof e!="boolean"?e.className:""),n=t.key,o=Pt(t,Gr);a=v.createElement(dt,J({},o,{key:n,className:r}))}return a});var aa=vt({chartName:"PieChart",GraphicalChild:z,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Oe},{axisType:"radiusAxis",AxisComp:je}],formatAxisMap:zt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),na=vt({chartName:"AreaChart",GraphicalChild:q,axisComponents:[{axisType:"xAxis",AxisComp:Ie},{axisType:"yAxis",AxisComp:Ce}],formatAxisMap:Wt});function ia(e,t){const a=Yt(e);return isNaN(t)?Xt(e,NaN):(t&&a.setDate(a.getDate()+t),a)}function sa(e,t){return ia(e,-t)}function oa({data:e,title:t="Net Activity"}){const a=e.map(r=>({...r,displayDate:he(new Date(r.date),"MMM d")}));return s.jsxs("div",{className:"w-full h-full p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-5 bg-emerald-500 rounded-full"}),t]}),s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Me,{width:"100%",height:"100%",children:s.jsxs(na,{data:a,margin:{top:10,right:10,left:-20,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorCheckins",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(yt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),s.jsx(Ie,{dataKey:"displayDate",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,dy:10}),s.jsx(Ce,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),s.jsx(Fe,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",backdropFilter:"blur(8px)"},itemStyle:{color:"#10b981",fontWeight:600},labelStyle:{color:"#94a3b8",marginBottom:"4px"},cursor:{stroke:"#334155",strokeWidth:1,strokeDasharray:"4 4"}}),s.jsx(q,{type:"monotone",dataKey:"checkins",stroke:"#10b981",strokeWidth:3,fill:"url(#colorCheckins)",name:"Check-ins",animationDuration:1500})]})})})]})}const at=["#10b981","#f59e0b","#06b6d4","#8b5cf6","#ec4899"];function la({data:e,title:t="Net Type Distribution"}){const a=r=>r.replace("_"," ").replace(/\b\w/g,n=>n.toUpperCase());return s.jsxs("div",{className:"w-full h-full p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-5 bg-violet-500 rounded-full"}),t]}),s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Me,{width:"100%",height:"100%",children:s.jsxs(aa,{children:[s.jsx(z,{data:e,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:e.map((r,n)=>s.jsx($e,{fill:at[n%at.length],stroke:"rgba(255,255,255,0.05)",strokeWidth:1},`cell-${n}`))}),s.jsx(Fe,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",backdropFilter:"blur(8px)"},itemStyle:{color:"#fff",fontWeight:600},formatter:r=>[r,"Count"]}),s.jsx(Vt,{formatter:r=>s.jsx("span",{className:"text-slate-300 font-medium ml-1",children:a(r)}),iconType:"circle",iconSize:8})]})})})]})}const nt=["#10b981","#06b6d4","#8b5cf6","#f59e0b","#ef4444","#6366f1","#ec4899"];function ca({data:e,title:t}){return s.jsxs("div",{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"h-6 w-1 bg-violet-500 rounded-full"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:t})]}),s.jsx("div",{className:"flex-1 min-h-[250px] w-full",children:s.jsx(Me,{width:"100%",height:"100%",children:s.jsxs(Ut,{data:e,children:[s.jsx(yt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),s.jsx(Ie,{dataKey:"name",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),s.jsx(Ce,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),s.jsx(Fe,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #1e293b",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"#fff"}}),s.jsx(Ht,{dataKey:"count",radius:[4,4,0,0],barSize:30,children:e.map((a,r)=>s.jsx($e,{fill:nt[r%nt.length]},`cell-${r}`))})]})})})]})}function ya(){const[e,t]=I.useState(!0),[a,r]=I.useState(null),[n,o]=I.useState([]),i=Dt();if(I.useEffect(()=>{(async()=>{try{console.log("Dashboard: Fetching user...");const{data:{session:h}}=await ke.auth.getSession();if(!h){console.log("Dashboard: No session, redirecting..."),i("/login");return}const b=h.user;console.log("Dashboard: Fetching profile...");const{data:j,error:k}=await ke.from("profiles").select("*").eq("id",b.id).single();k&&console.warn("Dashboard: Profile error:",k),r(j||{id:b.id,email:b.email,callsign:"OPERATOR"}),console.log("Dashboard: Fetching nets...");const{data:S,error:O}=await ke.from("nets").select("*, checkins(*)").eq("user_id",b.id).order("created_at",{ascending:!1});O?(console.error("Dashboard: Nets error:",O),Be.error("Failed to load dashboard data")):(console.log(`Dashboard: Loaded ${(S==null?void 0:S.length)||0} nets`),o(S||[]))}catch(h){console.error("Dashboard: Critical error:",h),Be.error("System synchronization error")}finally{t(!1)}})()},[i]),e)return s.jsx("div",{className:"flex items-center justify-center h-[80vh]",children:s.jsx(it,{className:"w-12 h-12 text-emerald-500 animate-spin"})});const l=n||[],u=l.filter(d=>!d.ended_at),c=l.reduce((d,h)=>{var b;return d+(((b=h.checkins)==null?void 0:b.length)||0)},0),f=new Set(l.flatMap(d=>{var h;return((h=d.checkins)==null?void 0:h.map(b=>b.callsign))||[]})).size,p=Array.from({length:7},(d,h)=>{const b=sa(new Date,6-h),j=he(b,"yyyy-MM-dd"),k=l.flatMap(S=>(S.checkins||[]).filter(O=>he(new Date(O.checked_in_at),"yyyy-MM-dd")===j)).length;return{date:j,checkins:k}}),y={};l.forEach(d=>{(d.checkins||[]).forEach(h=>{y[h.callsign]=(y[h.callsign]||0)+1})});const w=Object.entries(y).map(([d,h])=>({callsign:d,checkins:h})).sort((d,h)=>h.checkins-d.checkins).slice(0,10),x={};l.forEach(d=>{x[d.type]=(x[d.type]||0)+1});const m=Object.entries(x).map(([d,h])=>({name:d,value:h})),g={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};l.forEach(d=>{(d.checkins||[]).forEach(h=>{h.signal_strength&&(g[h.signal_strength]=(g[h.signal_strength]||0)+1)})});const A=Object.entries(g).map(([d,h])=>({name:`S${d}`,count:h}));return s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-10 mt-16 md:mt-20 pb-16 md:pb-20 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-mono mb-2",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),"SYSTEM OPERATIONAL"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight",children:"9M2PJU NCS Center"}),s.jsxs("p",{className:"text-slate-400 mt-2 max-w-xl",children:["Welcome back, ",s.jsx("span",{className:"text-emerald-400 font-medium",children:(a==null?void 0:a.callsign)||"Operator"}),". Your station overview and net statistics."]})]}),s.jsxs(ce,{to:"/nets/new",className:"btn btn-primary shadow-lg shadow-emerald-500/20 group",children:[s.jsx(Tt,{className:"w-5 h-5 group-hover:rotate-90 transition-transform"}),s.jsx("span",{children:"Initialize Net"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[s.jsx(fe,{title:"Active Nets",value:u.length,subtitle:"Currently on-air",icon:Ne,color:"emerald"}),s.jsx(fe,{title:"Total Nets",value:l.length,subtitle:"Lifetime logs",icon:qt,color:"cyan"}),s.jsx(fe,{title:"Check-ins",value:c,subtitle:"Total stations logged",icon:We,color:"violet"}),s.jsx(fe,{title:"Participants",value:f,subtitle:"Unique operators",icon:xt,color:"amber"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 card glass-card p-1",children:s.jsx(oa,{data:p,title:"Activity (7 Days)"})}),s.jsx("div",{className:"card glass-card p-1",children:s.jsx(ca,{data:A,title:"Signal Reports (Strength)"})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsx("div",{className:"card glass-card p-1",children:s.jsx(Gt,{data:w,title:"Top Operators"})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(Qt,{}),s.jsx("div",{className:"card glass-card p-1",children:s.jsx(la,{data:m,title:"Net Types"})})]}),s.jsxs("div",{className:"lg:col-span-2 card glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-6 w-1 bg-emerald-500 rounded-full"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"Recent Operations"})]}),s.jsxs(ce,{to:"/nets",className:"text-sm font-medium text-emerald-400 hover:text-emerald-300 flex items-center gap-1 group transition-colors",children:["Archive ",s.jsx(Ve,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),l.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed border-slate-800 rounded-xl bg-slate-900/30",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-4",children:s.jsx(Ne,{className:"w-8 h-8 text-slate-600"})}),s.jsx("h4",{className:"text-white font-medium mb-1",children:"No operations logged"}),s.jsx("p",{className:"text-slate-500 text-sm max-w-xs mb-4",children:"Start your first net control session to begin logging data."}),s.jsx(ce,{to:"/nets/new",className:"text-emerald-400 hover:text-emerald-300 text-sm font-medium",children:"Initialize First Net"})]}):s.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(d=>{var h;return s.jsxs(ce,{to:`/nets/${d.id}`,className:"group flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-xl bg-slate-900/50 border border-slate-800 hover:border-emerald-500/30 hover:bg-slate-800/80 transition-all hover:shadow-lg hover:shadow-emerald-500/5",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-3 sm:mb-0",children:[s.jsx("div",{className:`mt-1.5 w-2.5 h-2.5 rounded-full shrink-0 ${d.ended_at?"bg-slate-600":"bg-emerald-500 animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}`}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-white group-hover:text-emerald-400 transition-colors flex items-center gap-2",children:[d.name,d.frequency&&s.jsx("span",{className:"hidden sm:inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-mono bg-slate-800 text-slate-400 border border-slate-700",children:d.frequency})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-400 font-mono",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),he(new Date(d.started_at),"MMM d, HH:mm")]}),!d.ended_at&&s.jsx("span",{className:"text-emerald-500 font-bold tracking-wider",children:"LIVE"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 sm:gap-6 pl-6 sm:pl-0 border-l sm:border-l-0 border-slate-800 sm:border-transparent",children:[s.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-bold uppercase tracking-wider ${d.type==="weekly"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":d.type==="emergency_exercise"?"bg-amber-500/10 text-amber-400 border border-amber-500/20":"bg-cyan-500/10 text-cyan-400 border border-cyan-500/20"}`,children:d.type.replace("_"," ")}),s.jsxs("div",{className:"flex items-center justify-center min-w-[3rem] px-3 py-1 rounded bg-slate-800/80 border border-slate-700",children:[s.jsx(We,{className:"w-3.5 h-3.5 text-slate-400 mr-2"}),s.jsx("span",{className:"text-sm font-mono font-bold text-white",children:((h=d.checkins)==null?void 0:h.length)||0})]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-emerald-500 group-hover:text-white transition-all",children:s.jsx(Ve,{className:"w-4 h-4"})})]})]},d.id)})})]})]})]})}export{ya as default};
