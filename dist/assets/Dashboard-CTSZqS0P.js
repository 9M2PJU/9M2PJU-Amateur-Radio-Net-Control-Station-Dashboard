import{R as h,g as it,r as H,j as s,u as Nt,a as Et,L as ce,P as Rt,s as ke,b as Be}from"./index-3qVhT0mX.js";import{c as B,f as _,_ as ot,a as Tt,b as st,d as Dt,i as C,T as Te,p as F,L as E,g as lt,e as De,h as ct,D as ut,C as pe,j as U,k as W,S as Lt,A as ft,l as $t,m as V,n as we,o as L,q as dt,u as pt,G as mt,r as me,s as It,t as Le,v as Ct,w as ue,x as Fe,y as fe,z as Mt,B as Bt,E as Ke,F as ht,H as Ft,X as $e,Y as Ie,I as Kt,R as Ce,J as vt,K as Me,M as zt,N as Vt,O as Wt,P as de,Q as Ht,U as Ut}from"./TopParticipantsChart-DIUeJBiB.js";import{t as qt,c as Gt,f as he,C as Yt}from"./format-Pl77ZJcH.js";import{R as ze}from"./radio-BDX4zyWv.js";import{U as Ve}from"./users-C09zN1lS.js";import{A as Xt}from"./activity-ByxDRleR.js";import{C as We}from"./chevron-right-Dvf6dyZI.js";var Zt=["points","className","baseLinePoints","connectNulls"];function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q.apply(this,arguments)}function Jt(t,e){if(t==null)return{};var n=Qt(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function He(t){return nr(t)||rr(t)||tr(t)||er()}function er(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tr(t,e){if(t){if(typeof t=="string")return _e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(t,e)}}function rr(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nr(t){if(Array.isArray(t))return _e(t)}function _e(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ue=function(e){return e&&e.x===+e.x&&e.y===+e.y},ar=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Ue(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Ue(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},se=function(e,n){var r=ar(e);n&&(r=[r.reduce(function(o,i){return[].concat(He(o),He(i))},[])]);var a=r.map(function(o){return o.reduce(function(i,l,u){return"".concat(i).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},ir=function(e,n,r){var a=se(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(se(n.reverse(),r).slice(1))},or=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,o=e.connectNulls,i=Jt(e,Zt);if(!n||!n.length)return null;var l=B("recharts-polygon",r);if(a&&a.length){var u=i.stroke&&i.stroke!=="none",c=ir(n,a,o);return h.createElement("g",{className:l},h.createElement("path",Q({},_(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),u?h.createElement("path",Q({},_(i,!0),{fill:"none",d:se(n,o)})):null,u?h.createElement("path",Q({},_(i,!0),{fill:"none",d:se(a,o)})):null)}var d=se(n,o);return h.createElement("path",Q({},_(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))},sr=ot,lr=Tt,cr=st;function ur(t,e){return t&&t.length?sr(t,cr(e),lr):void 0}var fr=ur;const dr=it(fr);var pr=ot,mr=st,hr=Dt;function vr(t,e){return t&&t.length?pr(t,mr(e),hr):void 0}var yr=vr;const gr=it(yr);var br=["cx","cy","angle","ticks","axisLine"],xr=["ticks","tick","angle","tickFormatter","stroke"];function te(t){"@babel/helpers - typeof";return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(t)}function le(){return le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},le.apply(this,arguments)}function qe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qe(Object(n),!0).forEach(function(r){Ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ge(t,e){if(t==null)return{};var n=Ar(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ar(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gt(r.key),r)}}function Or(t,e,n){return e&&Ye(t.prototype,e),n&&Ye(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pr(t,e,n){return e=ye(e),kr(t,yt()?Reflect.construct(e,n||[],ye(t).constructor):e.apply(t,n))}function kr(t,e){if(e&&(te(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wr(t)}function wr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yt=function(){return!!t})()}function ye(t){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ye(t)}function _r(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Se(t,e)}function Se(t,e){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Se(t,e)}function Ae(t,e,n){return e=gt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gt(t){var e=Sr(t,"string");return te(e)=="symbol"?e:e+""}function Sr(t,e){if(te(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(te(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var je=function(t){function e(){return jr(this,e),Pr(this,e,arguments)}return _r(e,t),Or(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,o=this.props,i=o.angle,l=o.cx,u=o.cy;return F(l,u,a,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,l=r.ticks,u=dr(l,function(d){return d.coordinate||0}),c=gr(l,function(d){return d.coordinate||0});return{cx:a,cy:o,startAngle:i,endAngle:i,innerRadius:c.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,l=r.ticks,u=r.axisLine,c=Ge(r,br),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),p=F(a,o,d[0],i),y=F(a,o,d[1],i),O=Y(Y(Y({},_(c,!1)),{},{fill:"none"},_(u,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return h.createElement("line",le({className:"recharts-polar-radius-axis-line"},O))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,l=a.angle,u=a.tickFormatter,c=a.stroke,d=Ge(a,xr),p=this.getTickTextAnchor(),y=_(d,!1),O=_(i,!1),g=o.map(function(m,b){var j=r.getTickValueCoord(m),f=Y(Y(Y(Y({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},y),{},{stroke:"none",fill:c},O),{},{index:b},j),{},{payload:m});return h.createElement(E,le({className:B("recharts-polar-radius-axis-tick",lt(i)),key:"tick-".concat(m.coordinate)},De(r.props,m,b)),e.renderTickItem(i,f,u?u(m.value,b):m.value))});return h.createElement(E,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.axisLine,i=r.tick;return!a||!a.length?null:h.createElement(E,{className:B("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),ct.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,o){var i;return h.isValidElement(r)?i=h.cloneElement(r,a):C(r)?i=r(a):i=h.createElement(Te,le({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(H.PureComponent);Ae(je,"displayName","PolarRadiusAxis");Ae(je,"axisType","radiusAxis");Ae(je,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function re(t){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(t)}function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(this,arguments)}function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xe(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xt(r.key),r)}}function Er(t,e,n){return e&&Ze(t.prototype,e),n&&Ze(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rr(t,e,n){return e=ge(e),Tr(t,bt()?Reflect.construct(e,n||[],ge(t).constructor):e.apply(t,n))}function Tr(t,e){if(e&&(re(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dr(t)}function Dr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bt=function(){return!!t})()}function ge(t){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ge(t)}function Lr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ne(t,e)}function Ne(t,e){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ne(t,e)}function Oe(t,e,n){return e=xt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xt(t){var e=$r(t,"string");return re(e)=="symbol"?e:e+""}function $r(t,e){if(re(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(re(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ir=Math.PI/180,Je=1e-5,Pe=function(t){function e(){return Nr(this,e),Rr(this,e,arguments)}return Lr(e,t),Er(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.cx,i=a.cy,l=a.radius,u=a.orientation,c=a.tickSize,d=c||8,p=F(o,i,l,r.coordinate),y=F(o,i,l+(u==="inner"?-1:1)*d,r.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,o=Math.cos(-r.coordinate*Ir),i;return o>Je?i=a==="outer"?"start":"end":o<-Je?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.radius,l=r.axisLine,u=r.axisLineType,c=X(X({},_(this.props,!1)),{},{fill:"none"},_(l,!1));if(u==="circle")return h.createElement(ut,Z({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:o,r:i}));var d=this.props.ticks,p=d.map(function(y){return F(a,o,i,y.coordinate)});return h.createElement(or,Z({className:"recharts-polar-angle-axis-line"},c,{points:p}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,l=a.tickLine,u=a.tickFormatter,c=a.stroke,d=_(this.props,!1),p=_(i,!1),y=X(X({},d),{},{fill:"none"},_(l,!1)),O=o.map(function(g,m){var b=r.getTickLineCoord(g),j=r.getTickTextAnchor(g),f=X(X(X({textAnchor:j},d),{},{stroke:"none",fill:c},p),{},{index:m,payload:g,x:b.x2,y:b.y2});return h.createElement(E,Z({className:B("recharts-polar-angle-axis-tick",lt(i)),key:"tick-".concat(g.coordinate)},De(r.props,g,m)),l&&h.createElement("line",Z({className:"recharts-polar-angle-axis-tick-line"},y,b)),i&&e.renderTickItem(i,f,u?u(g.value,m):g.value))});return h.createElement(E,{className:"recharts-polar-angle-axis-ticks"},O)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.radius,i=r.axisLine;return o<=0||!a||!a.length?null:h.createElement(E,{className:B("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,o){var i;return h.isValidElement(r)?i=h.cloneElement(r,a):C(r)?i=r(a):i=h.createElement(Te,Z({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(H.PureComponent);Oe(Pe,"displayName","PolarAngleAxis");Oe(Pe,"axisType","angleAxis");Oe(Pe,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ve;function ne(t){"@babel/helpers - typeof";return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(t)}function ee(){return ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ee.apply(this,arguments)}function Qe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qe(Object(n),!0).forEach(function(r){$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jt(r.key),r)}}function Mr(t,e,n){return e&&et(t.prototype,e),n&&et(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Br(t,e,n){return e=be(e),Fr(t,At()?Reflect.construct(e,n||[],be(t).constructor):e.apply(t,n))}function Fr(t,e){if(e&&(ne(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kr(t)}function Kr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(At=function(){return!!t})()}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},be(t)}function zr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e)}function Ee(t,e){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ee(t,e)}function $(t,e,n){return e=jt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t){var e=Vr(t,"string");return ne(e)=="symbol"?e:e+""}function Vr(t,e){if(ne(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ne(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K=function(t){function e(n){var r;return Cr(this,e),r=Br(this,e,[n]),$(r,"pieRef",null),$(r,"sectorRefs",[]),$(r,"id",pt("recharts-pie-")),$(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),C(a)&&a()}),$(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),C(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return zr(e,t),Mr(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,l=o.labelLine,u=o.dataKey,c=o.valueKey,d=_(this.props,!1),p=_(i,!1),y=_(l,!1),O=i&&i.offsetRadius||20,g=r.map(function(m,b){var j=(m.startAngle+m.endAngle)/2,f=F(m.cx,m.cy,m.outerRadius+O,j),v=w(w(w(w({},d),m),{},{stroke:"none"},p),{},{index:b,textAnchor:e.getTextAnchor(f.x,m.cx)},f),x=w(w(w(w({},d),m),{},{fill:"none",stroke:m.fill},y),{},{index:b,points:[F(m.cx,m.cy,m.outerRadius,j),f]}),A=u;return U(u)&&U(c)?A="value":U(u)&&(A=c),h.createElement(E,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,x,"line"),e.renderLabelItem(i,v,W(m,A)))});return h.createElement(E,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var a=this,o=this.props,i=o.activeShape,l=o.blendStroke,u=o.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var p=a.isActiveIndex(d),y=u&&a.hasActiveIndex()?u:null,O=p?i:y,g=w(w({},c),{},{stroke:l?c.fill:c.stroke,tabIndex:-1});return h.createElement(E,ee({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},De(a.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),h.createElement(Lt,ee({option:O,isActive:p,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,o=a.sectors,i=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,c=a.animationEasing,d=a.animationId,p=this.state,y=p.prevSectors,O=p.prevIsAnimationActive;return h.createElement(ft,{begin:l,duration:u,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(O),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,b=[],j=o&&o[0],f=j.startAngle;return o.forEach(function(v,x){var A=y&&y[x],k=x>0?$t(v,"paddingAngle",0):0;if(A){var S=V(A.endAngle-A.startAngle,v.endAngle-v.startAngle),P=w(w({},v),{},{startAngle:f+k,endAngle:f+S(m)+k});b.push(P),f=P.endAngle}else{var T=v.endAngle,N=v.startAngle,D=V(0,T-N),I=D(m),R=w(w({},v),{},{startAngle:f+k,endAngle:f+I+k});b.push(R),f=R.endAngle}}),h.createElement(E,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,o=r.isAnimationActive,i=this.state.prevSectors;return o&&a&&a.length&&(!i||!we(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,o=a.hide,i=a.sectors,l=a.className,u=a.label,c=a.cx,d=a.cy,p=a.innerRadius,y=a.outerRadius,O=a.isAnimationActive,g=this.state.isAnimationFinished;if(o||!i||!i.length||!L(c)||!L(d)||!L(p)||!L(y))return null;var m=B("recharts-pie",l);return h.createElement(E,{tabIndex:this.props.rootTabIndex,className:m,ref:function(j){r.pieRef=j}},this.renderSectors(),u&&this.renderLabels(i),ct.renderCallByParent(this.props,null,!1),(!O||g)&&dt.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,o){if(h.isValidElement(r))return h.cloneElement(r,a);if(C(r))return r(a);var i=B("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return h.createElement(pe,ee({},a,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,a,o){if(h.isValidElement(r))return h.cloneElement(r,a);var i=o;if(C(r)&&(i=r(a),h.isValidElement(i)))return i;var l=B("recharts-pie-label-text",typeof r!="boolean"&&!C(r)?r.className:"");return h.createElement(Te,ee({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(H.PureComponent);ve=K;$(K,"displayName","Pie");$(K,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$(K,"parseDeltaAngle",function(t,e){var n=me(e-t),r=Math.min(Math.abs(e-t),360);return n*r});$(K,"getRealPieData",function(t){var e=t.data,n=t.children,r=_(t,!1),a=It(n,Le);return e&&e.length?e.map(function(o,i){return w(w(w({payload:o},r),o),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(o){return w(w({},r),o.props)}):[]});$(K,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,o=e.height,i=Ct(a,o),l=r+ue(t.cx,a,a/2),u=n+ue(t.cy,o,o/2),c=ue(t.innerRadius,i,0),d=ue(t.outerRadius,i,i*.8),p=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}});$(K,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?w(w({},e.type.defaultProps),e.props):e.props,a=ve.getRealPieData(r);if(!a||!a.length)return null;var o=r.cornerRadius,i=r.startAngle,l=r.endAngle,u=r.paddingAngle,c=r.dataKey,d=r.nameKey,p=r.valueKey,y=r.tooltipType,O=Math.abs(r.minAngle),g=ve.parseCoordinateOfPie(r,n),m=ve.parseDeltaAngle(i,l),b=Math.abs(m),j=c;U(c)&&U(p)?(Fe(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):U(c)&&(Fe(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=p);var f=a.filter(function(P){return W(P,j,0)!==0}).length,v=(b>=360?f:f-1)*u,x=b-f*O-v,A=a.reduce(function(P,T){var N=W(T,j,0);return P+(L(N)?N:0)},0),k;if(A>0){var S;k=a.map(function(P,T){var N=W(P,j,0),D=W(P,d,T),I=(L(N)?N:0)/A,R;T?R=S.endAngle+me(m)*u*(N!==0?1:0):R=i;var ie=R+me(m)*((N!==0?O:0)+I*x),oe=(R+ie)/2,G=(g.innerRadius+g.outerRadius)/2,_t=[{name:D,value:N,payload:P,dataKey:j,type:y}],St=F(g.cx,g.cy,G,oe);return S=w(w(w({percent:I,cornerRadius:o,name:D,tooltipPayload:_t,midAngle:oe,middleRadius:G,tooltipPosition:St},P),g),{},{value:W(P,j),startAngle:R,endAngle:ie,payload:P,paddingAngle:me(m)*u}),S})}return w(w({},g),{},{sectors:k,data:a})});var Wr=["layout","type","stroke","connectNulls","isRange","ref"],Hr=["key"],Ot;function ae(t){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(t)}function Pt(t,e){if(t==null)return{};var n=Ur(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ur(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J.apply(this,arguments)}function tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tt(Object(n),!0).forEach(function(r){M(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wt(r.key),r)}}function Gr(t,e,n){return e&&rt(t.prototype,e),n&&rt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yr(t,e,n){return e=xe(e),Xr(t,kt()?Reflect.construct(e,n||[],xe(t).constructor):e.apply(t,n))}function Xr(t,e){if(e&&(ae(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(t)}function Zr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kt=function(){return!!t})()}function xe(t){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xe(t)}function Jr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Re(t,e)}function Re(t,e){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Re(t,e)}function M(t,e,n){return e=wt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wt(t){var e=Qr(t,"string");return ae(e)=="symbol"?e:e+""}function Qr(t,e){if(ae(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ae(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q=function(t){function e(){var n;qr(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Yr(this,e,[].concat(a)),M(n,"state",{isAnimationFinished:!0}),M(n,"id",pt("recharts-area-")),M(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),C(i)&&i()}),M(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),C(i)&&i()}),n}return Jr(e,t),Gr(e,[{key:"renderDots",value:function(r,a,o){var i=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(i&&!l)return null;var u=this.props,c=u.dot,d=u.points,p=u.dataKey,y=_(this.props,!1),O=_(c,!0),g=d.map(function(b,j){var f=z(z(z({key:"dot-".concat(j),r:3},y),O),{},{index:j,cx:b.x,cy:b.y,dataKey:p,value:b.value,payload:b.payload,points:d});return e.renderDotItem(c,f)}),m={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return h.createElement(E,J({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,o=a.baseLine,i=a.points,l=a.strokeWidth,u=i[0].x,c=i[i.length-1].x,d=r*Math.abs(u-c),p=fe(i.map(function(y){return y.y||0}));return L(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(fe(o.map(function(y){return y.y||0})),p)),L(p)?h.createElement("rect",{x:u<c?u:u-d,y:0,width:d,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,o=a.baseLine,i=a.points,l=a.strokeWidth,u=i[0].y,c=i[i.length-1].y,d=r*Math.abs(u-c),p=fe(i.map(function(y){return y.x||0}));return L(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(fe(o.map(function(y){return y.x||0})),p)),L(p)?h.createElement("rect",{x:0,y:u<c?u:u-d,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,o,i){var l=this.props,u=l.layout,c=l.type,d=l.stroke,p=l.connectNulls,y=l.isRange;l.ref;var O=Pt(l,Wr);return h.createElement(E,{clipPath:o?"url(#clipPath-".concat(i,")"):null},h.createElement(pe,J({},_(O,!0),{points:r,connectNulls:p,type:c,baseLine:a,layout:u,stroke:"none",className:"recharts-area-area"})),d!=="none"&&h.createElement(pe,J({},_(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:p,fill:"none",points:r})),d!=="none"&&y&&h.createElement(pe,J({},_(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:p,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var o=this,i=this.props,l=i.points,u=i.baseLine,c=i.isAnimationActive,d=i.animationBegin,p=i.animationDuration,y=i.animationEasing,O=i.animationId,g=this.state,m=g.prevPoints,b=g.prevBaseLine;return h.createElement(ft,{begin:d,duration:p,isActive:c,easing:y,from:{t:0},to:{t:1},key:"area-".concat(O),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var f=j.t;if(m){var v=m.length/l.length,x=l.map(function(P,T){var N=Math.floor(T*v);if(m[N]){var D=m[N],I=V(D.x,P.x),R=V(D.y,P.y);return z(z({},P),{},{x:I(f),y:R(f)})}return P}),A;if(L(u)&&typeof u=="number"){var k=V(b,u);A=k(f)}else if(U(u)||Mt(u)){var S=V(b,0);A=S(f)}else A=u.map(function(P,T){var N=Math.floor(T*v);if(b[N]){var D=b[N],I=V(D.x,P.x),R=V(D.y,P.y);return z(z({},P),{},{x:I(f),y:R(f)})}return P});return o.renderAreaStatically(x,A,r,a)}return h.createElement(E,null,h.createElement("defs",null,h.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(f))),h.createElement(E,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(l,u,r,a)))})}},{key:"renderArea",value:function(r,a){var o=this.props,i=o.points,l=o.baseLine,u=o.isAnimationActive,c=this.state,d=c.prevPoints,p=c.prevBaseLine,y=c.totalLength;return u&&i&&i.length&&(!d&&y>0||!we(d,i)||!we(p,l))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(i,l,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,i=a.dot,l=a.points,u=a.className,c=a.top,d=a.left,p=a.xAxis,y=a.yAxis,O=a.width,g=a.height,m=a.isAnimationActive,b=a.id;if(o||!l||!l.length)return null;var j=this.state.isAnimationFinished,f=l.length===1,v=B("recharts-area",u),x=p&&p.allowDataOverflow,A=y&&y.allowDataOverflow,k=x||A,S=U(b)?this.id:b,P=(r=_(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=P.r,N=T===void 0?3:T,D=P.strokeWidth,I=D===void 0?2:D,R=Bt(i)?i:{},ie=R.clipDot,oe=ie===void 0?!0:ie,G=N*2+I;return h.createElement(E,{className:v},x||A?h.createElement("defs",null,h.createElement("clipPath",{id:"clipPath-".concat(S)},h.createElement("rect",{x:x?d:d-O/2,y:A?c:c-g/2,width:x?O:O*2,height:A?g:g*2})),!oe&&h.createElement("clipPath",{id:"clipPath-dots-".concat(S)},h.createElement("rect",{x:d-G/2,y:c-G/2,width:O+G,height:g+G}))):null,f?null:this.renderArea(k,S),(i||f)&&this.renderDots(k,oe,S),(!m||j)&&dt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(H.PureComponent);Ot=q;M(q,"displayName","Area");M(q,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});M(q,"getBaseValue",function(t,e,n,r){var a=t.layout,o=t.baseValue,i=e.props.baseValue,l=i??o;if(L(l)&&typeof l=="number")return l;var u=a==="horizontal"?r:n,c=u.scale.domain();if(u.type==="number"){var d=Math.max(c[0],c[1]),p=Math.min(c[0],c[1]);return l==="dataMin"?p:l==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return l==="dataMin"?c[0]:l==="dataMax"?c[1]:c[0]});M(q,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,a=t.yAxis,o=t.xAxisTicks,i=t.yAxisTicks,l=t.bandSize,u=t.dataKey,c=t.stackedData,d=t.dataStartIndex,p=t.displayedData,y=t.offset,O=e.layout,g=c&&c.length,m=Ot.getBaseValue(e,n,r,a),b=O==="horizontal",j=!1,f=p.map(function(x,A){var k;g?k=c[d+A]:(k=W(x,u),Array.isArray(k)?j=!0:k=[m,k]);var S=k[1]==null||g&&W(x,u)==null;return b?{x:Ke({axis:r,ticks:o,bandSize:l,entry:x,index:A}),y:S?null:a.scale(k[1]),value:k,payload:x}:{x:S?null:r.scale(k[1]),y:Ke({axis:a,ticks:i,bandSize:l,entry:x,index:A}),value:k,payload:x}}),v;return g||j?v=f.map(function(x){var A=Array.isArray(x.value)?x.value[0]:null;return b?{x:x.x,y:A!=null&&x.y!=null?a.scale(A):null}:{x:A!=null?r.scale(A):null,y:x.y}}):v=b?a.scale(m):r.scale(m),z({points:f,baseLine:v,layout:O,isRange:j},y)});M(q,"renderDotItem",function(t,e){var n;if(h.isValidElement(t))n=h.cloneElement(t,e);else if(C(t))n=t(e);else{var r=B("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,o=Pt(e,Hr);n=h.createElement(ut,J({},o,{key:a,className:r}))}return n});var en=ht({chartName:"PieChart",GraphicalChild:K,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Pe},{axisType:"radiusAxis",AxisComp:je}],formatAxisMap:Ft,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),tn=ht({chartName:"AreaChart",GraphicalChild:q,axisComponents:[{axisType:"xAxis",AxisComp:$e},{axisType:"yAxis",AxisComp:Ie}],formatAxisMap:Kt});function rn(t,e){const n=qt(t);return isNaN(e)?Gt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function nn(t,e){return rn(t,-e)}function an({data:t,title:e="Net Activity"}){const n=t.map(r=>({...r,displayDate:he(new Date(r.date),"MMM d")}));return s.jsxs("div",{className:"w-full h-full p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-5 bg-emerald-500 rounded-full"}),e]}),s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Ce,{width:"100%",height:"100%",children:s.jsxs(tn,{data:n,margin:{top:10,right:10,left:-20,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorCheckins",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),s.jsx($e,{dataKey:"displayDate",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,dy:10}),s.jsx(Ie,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),s.jsx(Me,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",backdropFilter:"blur(8px)"},itemStyle:{color:"#10b981",fontWeight:600},labelStyle:{color:"#94a3b8",marginBottom:"4px"},cursor:{stroke:"#334155",strokeWidth:1,strokeDasharray:"4 4"}}),s.jsx(q,{type:"monotone",dataKey:"checkins",stroke:"#10b981",strokeWidth:3,fill:"url(#colorCheckins)",name:"Check-ins",animationDuration:1500})]})})})]})}const nt=["#10b981","#f59e0b","#06b6d4","#8b5cf6","#ec4899"];function on({data:t,title:e="Net Type Distribution"}){const n=r=>r.replace("_"," ").replace(/\b\w/g,a=>a.toUpperCase());return s.jsxs("div",{className:"w-full h-full p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-5 bg-violet-500 rounded-full"}),e]}),s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Ce,{width:"100%",height:"100%",children:s.jsxs(en,{children:[s.jsx(K,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((r,a)=>s.jsx(Le,{fill:nt[a%nt.length],stroke:"rgba(255,255,255,0.05)",strokeWidth:1},`cell-${a}`))}),s.jsx(Me,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",backdropFilter:"blur(8px)"},itemStyle:{color:"#fff",fontWeight:600},formatter:r=>[r,"Count"]}),s.jsx(zt,{formatter:r=>s.jsx("span",{className:"text-slate-300 font-medium ml-1",children:n(r)}),iconType:"circle",iconSize:8})]})})})]})}const at=["#10b981","#06b6d4","#8b5cf6","#f59e0b","#ef4444","#6366f1","#ec4899"];function sn({data:t,title:e}){return s.jsxs("div",{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"h-6 w-1 bg-violet-500 rounded-full"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:e})]}),s.jsx("div",{className:"flex-1 min-h-[250px] w-full",children:s.jsx(Ce,{width:"100%",height:"100%",children:s.jsxs(Vt,{data:t,children:[s.jsx(vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),s.jsx($e,{dataKey:"name",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),s.jsx(Ie,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),s.jsx(Me,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #1e293b",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"#fff"}}),s.jsx(Wt,{dataKey:"count",radius:[4,4,0,0],barSize:30,children:t.map((n,r)=>s.jsx(Le,{fill:at[r%at.length]},`cell-${r}`))})]})})})]})}function hn(){const[t,e]=H.useState(!0),[n,r]=H.useState(null),[a,o]=H.useState([]),i=Nt();if(H.useEffect(()=>{(async()=>{try{console.log("Dashboard: Fetching user...");const{data:{session:v}}=await ke.auth.getSession();if(!v){console.log("Dashboard: No session, redirecting..."),i("/login");return}const x=v.user;console.log("Dashboard: Fetching profile...");const{data:A,error:k}=await ke.from("profiles").select("*").eq("id",x.id).single();k&&console.warn("Dashboard: Profile error:",k),r(A||{id:x.id,email:x.email,callsign:"OPERATOR"}),console.log("Dashboard: Fetching nets...");const{data:S,error:P}=await ke.from("nets").select("*, checkins(*)").eq("user_id",x.id).order("created_at",{ascending:!1});P?(console.error("Dashboard: Nets error:",P),Be.error("Failed to load dashboard data")):(console.log(`Dashboard: Loaded ${(S==null?void 0:S.length)||0} nets`),o(S||[]))}catch(v){console.error("Dashboard: Critical error:",v),Be.error("System synchronization error")}finally{e(!1)}})()},[i]),t)return s.jsx("div",{className:"flex items-center justify-center h-[80vh]",children:s.jsx(Et,{className:"w-12 h-12 text-emerald-500 animate-spin"})});const l=a||[],u=l.filter(f=>!f.ended_at),c=l.reduce((f,v)=>{var x;return f+(((x=v.checkins)==null?void 0:x.length)||0)},0),d=new Set(l.flatMap(f=>{var v;return((v=f.checkins)==null?void 0:v.map(x=>x.callsign))||[]})).size,p=Array.from({length:7},(f,v)=>{const x=nn(new Date,6-v),A=he(x,"yyyy-MM-dd"),k=l.flatMap(S=>(S.checkins||[]).filter(P=>he(new Date(P.checked_in_at),"yyyy-MM-dd")===A)).length;return{date:A,checkins:k}}),y={};l.forEach(f=>{(f.checkins||[]).forEach(v=>{y[v.callsign]=(y[v.callsign]||0)+1})});const O=Object.entries(y).map(([f,v])=>({callsign:f,checkins:v})).sort((f,v)=>v.checkins-f.checkins).slice(0,10),g={};l.forEach(f=>{g[f.type]=(g[f.type]||0)+1});const m=Object.entries(g).map(([f,v])=>({name:f,value:v})),b={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};l.forEach(f=>{(f.checkins||[]).forEach(v=>{v.signal_strength&&(b[v.signal_strength]=(b[v.signal_strength]||0)+1)})});const j=Object.entries(b).map(([f,v])=>({name:`S${f}`,count:v}));return s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-10 mt-16 md:mt-20 pb-16 md:pb-20 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-mono mb-2",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),"SYSTEM OPERATIONAL"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight",children:"9M2PJU NCS Center"}),s.jsxs("p",{className:"text-slate-400 mt-2 max-w-xl",children:["Welcome back, ",s.jsx("span",{className:"text-emerald-400 font-medium",children:(n==null?void 0:n.callsign)||"Operator"}),". Your station overview and net statistics."]})]}),s.jsxs(ce,{to:"/nets/new",className:"btn btn-primary shadow-lg shadow-emerald-500/20 group",children:[s.jsx(Rt,{className:"w-5 h-5 group-hover:rotate-90 transition-transform"}),s.jsx("span",{children:"Initialize Net"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[s.jsx(de,{title:"Active Nets",value:u.length,subtitle:"Currently on-air",icon:ze,color:"emerald"}),s.jsx(de,{title:"Total Nets",value:l.length,subtitle:"Lifetime logs",icon:Ht,color:"cyan"}),s.jsx(de,{title:"Check-ins",value:c,subtitle:"Total stations logged",icon:Ve,color:"violet"}),s.jsx(de,{title:"Participants",value:d,subtitle:"Unique operators",icon:Xt,color:"amber"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 card glass-card p-1",children:s.jsx(an,{data:p,title:"Activity (7 Days)"})}),s.jsx("div",{className:"card glass-card p-1",children:s.jsx(sn,{data:j,title:"Signal Reports (Strength)"})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsx("div",{className:"card glass-card p-1",children:s.jsx(Ut,{data:O,title:"Top Operators"})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"card glass-card p-1",children:s.jsx(on,{data:m,title:"Net Types"})})}),s.jsxs("div",{className:"lg:col-span-2 card glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-6 w-1 bg-emerald-500 rounded-full"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"Recent Operations"})]}),s.jsxs(ce,{to:"/nets",className:"text-sm font-medium text-emerald-400 hover:text-emerald-300 flex items-center gap-1 group transition-colors",children:["Archive ",s.jsx(We,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),l.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed border-slate-800 rounded-xl bg-slate-900/30",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-4",children:s.jsx(ze,{className:"w-8 h-8 text-slate-600"})}),s.jsx("h4",{className:"text-white font-medium mb-1",children:"No operations logged"}),s.jsx("p",{className:"text-slate-500 text-sm max-w-xs mb-4",children:"Start your first net control session to begin logging data."}),s.jsx(ce,{to:"/nets/new",className:"text-emerald-400 hover:text-emerald-300 text-sm font-medium",children:"Initialize First Net"})]}):s.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(f=>{var v;return s.jsxs(ce,{to:`/nets/${f.id}`,className:"group flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-xl bg-slate-900/50 border border-slate-800 hover:border-emerald-500/30 hover:bg-slate-800/80 transition-all hover:shadow-lg hover:shadow-emerald-500/5",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-3 sm:mb-0",children:[s.jsx("div",{className:`mt-1.5 w-2.5 h-2.5 rounded-full shrink-0 ${f.ended_at?"bg-slate-600":"bg-emerald-500 animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}`}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-white group-hover:text-emerald-400 transition-colors flex items-center gap-2",children:[f.name,f.frequency&&s.jsx("span",{className:"hidden sm:inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-mono bg-slate-800 text-slate-400 border border-slate-700",children:f.frequency})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-400 font-mono",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Yt,{className:"w-3 h-3"}),he(new Date(f.started_at),"MMM d, HH:mm")]}),!f.ended_at&&s.jsx("span",{className:"text-emerald-500 font-bold tracking-wider",children:"LIVE"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 sm:gap-6 pl-6 sm:pl-0 border-l sm:border-l-0 border-slate-800 sm:border-transparent",children:[s.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-bold uppercase tracking-wider ${f.type==="weekly"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":f.type==="emergency_exercise"?"bg-amber-500/10 text-amber-400 border border-amber-500/20":"bg-cyan-500/10 text-cyan-400 border border-cyan-500/20"}`,children:f.type.replace("_"," ")}),s.jsxs("div",{className:"flex items-center justify-center min-w-[3rem] px-3 py-1 rounded bg-slate-800/80 border border-slate-700",children:[s.jsx(Ve,{className:"w-3.5 h-3.5 text-slate-400 mr-2"}),s.jsx("span",{className:"text-sm font-mono font-bold text-white",children:((v=f.checkins)==null?void 0:v.length)||0})]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-emerald-500 group-hover:text-white transition-all",children:s.jsx(We,{className:"w-4 h-4"})})]})]},f.id)})})]})]})]})}export{hn as default};
